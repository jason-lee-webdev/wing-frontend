# JavaScript 모듈 시스템

## 모듈(Module)이란?

애플리케이션이 점점 커지면 코드를 여러 파일로 나눌 필요가 생긴다. 이렇게 분리된 각 파일을 **모듈(module)**이라고 부르며, 일반적으로 클래스 하나 또는 특정 목적을 위한 함수 묶음으로 구성된 작은 코드 단위라고 보면 된다.

### 모듈을 사용했을 때의 장점

* **유지보수 용이성**
  기능을 역할별로 나누어 관리하면, 서로 얽힌 의존성이 줄어들어 수정과 개선이 훨씬 쉬워진다.
* **전역 스코프 오염 방지(네임스페이스 분리)**
  프로젝트가 커질수록 전역 변수 이름이 충돌하는 문제가 생기는데, 모듈을 사용하면 각 파일이 자신만의 스코프를 가지므로 이런 충돌을 방지할 수 있다.
* **코드 재사용성 향상**
  반복되는 코드를 모듈 단위로 분리해두면, 필요한 곳에서 불러와 재사용할 수 있어 효율적이다.

자바스크립트는 이러한 모듈을 불러오는 여러 방식(= **모듈 시스템**)을 가지고 있으며, 대표적인 방식들은 다음과 같다.

### 대표적인 모듈 시스템

* **AMD**
  초기 모듈 시스템 중 하나로, require.js 라이브러리를 기반으로 널리 사용되었다.
* **CommonJS**
  Node.js 환경에서 사용하기 위해 만들어진 모듈 시스템이다.
* **UMD**
  AMD와 CommonJS를 모두 지원하기 위해 고안된 범용 모듈 형식이다.
* **ES Module(ESM)**
  ES6(ES2015)에서 공식 표준으로 도입된 자바스크립트 모듈 시스템이다.

## ES Module 방식

ES6에서 정식 도입된 모듈 시스템으로, HTML에서 `<script>` 태그에 `type="module"`을 지정하면 해당 파일이 모듈로 동작한다.


모듈을 외부로 내보낼 때는 `export`, `export default` 등을 사용하고, 다른 파일에서 불러올 때는 `import` 키워드를 사용한다.

## CommonJS 방식

Node.js에서 기본으로 사용해온 모듈 시스템이다.

모듈을 내보낼 때는 `module.exports` 또는 `exports`를 사용하며, 불러올 때는 `require()`를 사용한다.

> 💡 **참고**
> Node.js는 기본적으로 CommonJS를 사용했지만, v13.2부터 ES Module을 공식 지원하기 시작했다. 별도의 도구 없이도 Node.js 환경에서 ESM을 사용할 수 있다.
> [Node.js 공식 문서](https://nodejs.org/api/esm.html#modules-ecmascript-modules)

## Node.js에서의 ES Module(ESM)

과거에는 Node.js에서 ES Module을 사용하려면 Babel 같은 트랜스파일러가 필요했다. 그러나 Node.js v13.2 이후로는 별도의 도구 없이도 ESM을 사용할 수 있게 되었으며, `.mjs` 확장자 또는 `package.json`의 `"type": "module"` 설정을 통해 쉽게 ESM 환경을 구성할 수 있다.